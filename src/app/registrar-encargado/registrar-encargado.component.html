<div class="pagina">
  <!-- üîù Navegaci√≥n -->
  <div class="nav-buttons">
    <button type="button" class="secundario" (click)="irAOrganizacion()">
      Cambiar de Organizacion Deportiva
    </button>
  </div>

  <!-- üßæ Formulario centrado -->
  <div class="form-container">
    <h2>Registrar Encargado</h2>

    <form #encargadoForm="ngForm" (ngSubmit)="registrarEncargado(encargadoForm)">
      
      <!-- Nombre -->
      <input type="text" name="nombre" placeholder="Nombre"
        [(ngModel)]="encargado.nombre" required #nombre="ngModel" />
      <div *ngIf="encargadoForm.submitted && nombre.invalid" class="error">
        El nombre es obligatorio.
      </div>

      <!-- Username -->
      <input type="text" name="username" placeholder="Username"
        [(ngModel)]="encargado.username" required #username="ngModel" />
      <div *ngIf="encargadoForm.submitted && username.invalid" class="error">
        El username es obligatorio.
      </div>

      <!-- Contrase√±a -->
      <div class="input-group">
        <input [type]="showPassword ? 'text' : 'password'" name="contrasena"
          placeholder="Contrase√±a" [(ngModel)]="encargado.contrasena"
          required minlength="8" #contrasena="ngModel" />
        <button type="button" class="eye-btn" (click)="togglePassword()" tabindex="-1" aria-label="Mostrar u ocultar contrase√±a">
          <fa-icon [icon]="showPassword ? faEyeSlash : faEye"></fa-icon>
        </button>
      </div>
      <div *ngIf="encargadoForm.submitted && contrasena.invalid" class="error">
        La contrase√±a debe tener m√≠nimo 8 caracteres.
      </div>

      <!-- Confirmar Contrase√±a -->
      <div class="input-group">
        <input [type]="showConfirmPassword ? 'text' : 'password'" name="confirmarContrasena"
          placeholder="Confirmar Contrase√±a" [(ngModel)]="encargado.confirmarContrasena"
          required #confirmarContrasena="ngModel" />
        <button type="button" class="eye-btn" (click)="toggleConfirmPassword()" tabindex="-1" aria-label="Mostrar u ocultar confirmaci√≥n">
          <fa-icon [icon]="showConfirmPassword ? faEyeSlash : faEye"></fa-icon>
        </button>
      </div>
      <div *ngIf="encargadoForm.submitted && !contrasenasCoinciden()" class="error">
        Las contrase√±as no coinciden.
      </div>

      <!-- Tipo Documento -->
      <select name="tipoDocumento" [(ngModel)]="encargado.tipoDocumento" required #tipoDocumento="ngModel">
        <option value="" disabled selected>Selecciona tipo de documento</option>
        <option value="CC">CC</option>
        <option value="CE">CE</option>
      </select>
      <div *ngIf="encargadoForm.submitted && tipoDocumento.invalid" class="error">
        Selecciona un tipo de documento v√°lido.
      </div>

      <!-- N√∫mero Documento -->
      <input type="text" name="numeroDocumento" placeholder="N√∫mero de Documento"
        [(ngModel)]="encargado.numeroDocumento" required #numeroDocumento="ngModel" />
      <div *ngIf="encargadoForm.submitted && numeroDocumento.invalid" class="error">
        El n√∫mero de documento es obligatorio.
      </div>

      <!-- Prefijo Tel√©fono -->
      <input type="text" name="prefijoTelefono" placeholder="Prefijo Tel√©fono (ej: +57)"
        [(ngModel)]="encargado.prefijoTelefono" required #prefijoTelefono="ngModel" />
      <div *ngIf="encargadoForm.submitted && prefijoTelefono.invalid" class="error">
        El prefijo telef√≥nico es obligatorio.
      </div>

      <!-- Tel√©fono -->
      <input type="text" name="telefono" placeholder="Tel√©fono"
        [(ngModel)]="encargado.telefono" required #telefono="ngModel" />
      <div *ngIf="encargadoForm.submitted && telefono.invalid" class="error">
        El tel√©fono es obligatorio.
      </div>

      <!-- Bot√≥n de env√≠o -->
      <button type="submit">Registrar</button>
    </form>

    <!-- üîÅ Estado y mensajes -->
    <div *ngIf="cargando" class="mensaje cargando">‚è≥ Registrando...</div>

    <div *ngIf="mensaje && !cargando"
         class="mensaje"
         [ngClass]="{
           'mensaje-exito': mensajeTipo === 'exito',
           'mensaje-error': mensajeTipo === 'error'
         }">
      {{ mensaje }}
    </div>
  </div>
</div>
